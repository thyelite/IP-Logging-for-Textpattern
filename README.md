# IP Logging for Textpattern
Verified working for 4.8.x through 4.9.0 beta 2

Logs Textpattern visitor IP addresses (IPv4/IPv6) to `txp_log.ip_address` and displays them on the **Visitor Logs** panel.

---

## Features
- Captures and stores both **IPv4** and **IPv6** addresses.
- Adds them to the `txp_log.ip_address` column (with proper `VARCHAR(45)` field and index).
- Makes IPs visible in the **Visitor Logs** panel.

---

## Requirements
- Textpattern CMS 4.8+  
- MySQL/MariaDB with support for `VARCHAR(45)` fields  

---

## Installation

You can install the plugin in one of two ways:

### Option 1: Upload File
1. Download `IP-plugin.php`.
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Upload `IP-plugin.php`.
4. Activate the plugin.

### Option 2: Paste Code
1. Copy the full plugin code below
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Paste the code into the form field.
4. Submit and activate the plugin.


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
