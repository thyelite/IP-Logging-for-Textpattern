# IP Logging for Textpattern
Verified working for 4.8.x through 4.9.0 beta 2

Logs Textpattern visitor IP addresses (IPv4/IPv6) to `txp_log.ip_address` and displays them on the **Visitor Logs** panel.

---

## Features
- Captures and stores both **IPv4** and **IPv6** addresses.
- Adds them to the `txp_log.ip_address` column (with proper `VARCHAR(45)` field and index).
- Makes IPs visible in the **Visitor Logs** panel.

---

## Requirements
- Textpattern CMS 4.8+  
- MySQL/MariaDB with support for `VARCHAR(45)` fields  

---

## Installation

You can install the plugin in one of two ways:

### Option 1: Upload File
1. Download `IP-plugin.php`.
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Upload `IP-plugin.php`.
4. Activate the plugin.

### Option 2: Paste Code
1. Copy the full plugin code below
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Paste the code into the form field.
4. Submit and activate the plugin.


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
FjBkXBxVM8wlDE4P/uS7/f1/AOV8N+XTIgAA
