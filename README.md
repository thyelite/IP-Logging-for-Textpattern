# IP Logging for Textpattern
Verified working for 4.8.x through 4.9.0 beta 2

Logs Textpattern visitor IP addresses (IPv4/IPv6) to `txp_log.ip_address` and displays them on the **Visitor Logs** panel.

---

## Features
- Captures and stores both **IPv4** and **IPv6** addresses.
- Adds them to the `txp_log.ip_address` column (with proper `VARCHAR(45)` field and index).
- Makes IPs visible in the **Visitor Logs** panel.

---

## Requirements
- Textpattern CMS 4.8+  
- MySQL/MariaDB with support for `VARCHAR(45)` fields  

---

## Installation

You can install the plugin in one of two ways:

### Option 1: Upload File
1. Download `IP-plugin.php`.
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Upload `IP-plugin.php`.
4. Activate the plugin.

### Option 2: Paste Code
1. Copy the full plugin code below
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Paste the code into the form field.
4. Submit and activate the plugin.


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
