# IP Logging for Textpattern
Verified working for 4.8.x through 4.9.0 beta 2

Logs Textpattern visitor IP addresses (IPv4/IPv6) to `txp_log.ip_address` and displays them on the **Visitor Logs** panel.

---

## Features
- Captures and stores both **IPv4** and **IPv6** addresses.
- Adds them to the `txp_log.ip_address` column (with proper `VARCHAR(45)` field and index).
- Makes IPs visible in the **Visitor Logs** panel.

---

## Requirements
- Textpattern CMS 4.8+  
- MySQL/MariaDB with support for `VARCHAR(45)` fields  

---

## Installation

You can install the plugin in one of two ways:

### Option 1: Upload File
1. Download `IP-plugin.php`.
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Upload `IP-plugin.php`.
4. Activate the plugin.

### Option 2: Paste Code
1. Copy the full plugin code below
2. Go to the **Admin → Plugins** panel in Textpattern.
3. Paste the code into the form field.
4. Submit and activate the plugin.


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
